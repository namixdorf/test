/*
        Easybox v1.4 - Lightweight easy to use lightbox clone for jQuery
        Based on Slimbox2 by Christophe Beyls <http://www.digitalia.be>
*/
/android|iphone|ipod|series60|symbian|windows ce|blackberry|msie 6/i.test(navigator.userAgent)||jQuery(function(a){a("a.lightbox").easybox({/* custom options here */},null,function(a){return this==a||-1!=this.className.indexOf("lightbox")&&this.hasAttribute("data-group")&&this.getAttribute("data-group")==a.getAttribute("data-group")},function(b){var c={};if(a("#easyOptions").length){var f=a.parseJSON(a("#easyOptions").html()),d=b.getAttribute("data-group");a.each(f,function(e,b){if("global"==e||"string"==typeof d&&e==d)c=
a.extend(c,b)})}return c})});
/*
        Easybox v1.4 - Lightweight easy to use lightbox clone for jQuery
        Based on Slimbox2 by Christophe Beyls <http://www.digitalia.be>
*/
(function(x,Q,b){function B(a){if(q||0>a||a>=d.length)return!1;C();i=a;k=(i||(c.loop?d.length:0))-1;f=(i+1)%d.length||(c.loop?0:-1);c.preloadNext&&(0<=k&&D(d[k]),0<=f&&D(d[f]));d[i].loaded||b(y).show();D(d[i]);return!1}function Z(){var a=d[i];b(y).hide();a.error?b(e).addClass("error").width(c.errorSize[0]).height(c.errorSize[1]):(!c.hideCaption&&a.caption.length&&b(l).html(a.caption).css({display:""}),b(e).width(a.width).height(a.height));!c.hideCaption&&1<d.length&&c.counterText.length&&b(m).html(c.counterText.replace(/{x}/,
i+1).replace(/{y}/,d.length)).css({display:""});q=!0;b(e).css({visibility:"hidden",display:""});R([e.offsetWidth,e.offsetHeight],-1,c.resizeDuration);b(g).queue(function(j){b(e).css({visibility:"",display:"none"});a.error||(b(a.obj).appendTo(e),a.handler.show(a),E=!0);S();b(e).fadeIn(c.fadeDuration,$);q=!1;j()})}function R(a,j,aa){h=a.slice();var d={};if(g.offsetHeight!=a[1]||g.offsetWidth!=a[0])d={height:a[1],marginTop:-a[1]/2,width:a[0],marginLeft:-a[0]/2};if(-1<j)d.opacity=j;b(g).animate(d,aa,
c.resizeEasing)}function $(){if(!c.hideBottom){if(!c.hideButtons){if((0<=k||0<=f)&&!c.noNavigation)b(F).css({display:""}),b([l,m]).addClass("nav"),0>k&&b(G).addClass("disabled"),0>f&&b(H).addClass("disabled");0<c.slideshow&&!c.noToggleSlideshow&&b(r).css({display:""});c.noClose||b(I).css({display:""})}b(s).fadeIn(c.captionFadeDuration);b(g).animate({height:h[1]+s.offsetHeight},c.captionFadeDuration,c.resizeEasing)}}function C(){T();if(0<=i){var a=d[i];!a.error&&E&&a.handler.hide(a)}b([e,l,m]).html("");
b([s,e]).stop(!0,!0);b([y,s,e,F,l,m,r,I]).hide();b(g).stop(!0).css({width:h[0],height:h[1],marginLeft:-h[0]/2,marginTop:-h[1]/2,opacity:""});b([e,l,m,G,H]).removeClass();E=q=!1}function J(){if(!n)return!1;C();i=k=f=-1;K();U(0);for(var a=0;a<d.length;++a){var j=d[a];!j.loaded&&j.loading&&j.handler.abort(j)}b(L).stop().fadeOut(c.fadeDuration);R([h[0]/2,h[1]/2],0,c.fadeDuration);b(g).queue(function(a){b(g).css({left:"",top:""}).hide();b(r).removeClass("disabled");n=t=o=!1;a()});return!1}function u(){t=
!0;return B(k)}function v(){t=!1;return B(f)}function M(){return q||c.noClose?!1:J()}function V(){if(c.noToggleSlideshow)return!1;o=!o;t=!1;b(r).toggleClass("disabled",o);o?T():S();return!1}function S(){if(!o){if(c.slideshow&&null==p)if(t){if(0<=k)return p=setTimeout(u,c.slideshow),!1}else if(0<=f)return p=setTimeout(v,c.slideshow),!1;c.autoClose&&null==w&&(w=setTimeout(J,c.autoClose))}return!1}function T(){null!=p&&(clearTimeout(p),p=null);null!=w&&(clearTimeout(w),w=null)}function D(a){a.loaded&&
N(a);if(!a.loading){a.loading=!0;for(var b=z.length-1;0<=b;--b)if(z[b].identify(a)){a.handler=z[b];a.handler.preLoad(a,function(){N(a)});return}a.error=!0;N(a)}}function N(a){if(!a.loaded&&(a.loaded=!0,!a.error)){if(!a.width||!a.height)a.width=c.defaultContentSize[0],a.height=c.defaultContentSize[1];if(a.height>c.maximumContentSize[1])a.width=Math.round(c.maximumContentSize[1]*a.width/a.height),a.height=c.maximumContentSize[1];if(a.width>c.maximumContentSize[0])a.height=Math.round(c.maximumContentSize[0]/
a.width*a.height),a.width=c.maximumContentSize[0];a.handler.postLoad(a)}d[i]==a&&Z()}function ba(a){z.push(b.extend({identify:function(){return!1},preLoad:function(a,b){b()},postLoad:function(){},abort:function(){},show:function(){},hide:function(){}},a))}function U(a){a?b("object:visible").add("embed").each(function(a,b){O[a]=[b,b.style.visibility];b.style.visibility="hidden"}):(b.each(O,function(a,b){b[0].style.visibility=b[1]}),O=[]);a=a?"bind":"unbind";b(Q)[a]("keydown",ca);if(b.fn.mousewheel)b(x)[a]("mousewheel",
da);b(g)[a]("mousedown",ea)[a]("mousemove",W)[a]("mouseup",K);b(x)[a]("mousemove",W)[a]("mouseup",K)}function ca(a){var a=a.keyCode,j=b.inArray;return 0<=j(a,c.closeKeys)?M():0<=j(a,c.nextKeys)&&!c.noNavigation?v():0<=j(a,c.previousKeys)&&!c.noNavigation?u():0<=j(a,c.toggleSlideshowKeys)&&0<c.slideshow?V():!c.preventOtherKeys}function da(a,b){return 0<b&&!c.noNavigation?u():0>b&&!c.noNavigation?v():!1}function ea(a){return c.dragDrop?(A=!0,b(g).css({cursor:"pointer"}),X=a.pageX-b(this).position().left,
Y=a.pageY-b(this).position().top,!1):!0}function W(a){if(c.dragDrop&&A){var d=a.pageX-b(x).scrollLeft()-X,a=a.pageY-b(x).scrollTop()-Y;b(g).css({left:d+"px",top:a+"px"});return!1}return!0}function K(){A&&(A=!1,b(g).css({cursor:""}));return!0}var P={loop:!1,preloadNext:!0,dragDrop:!0,hideBottom:!1,hideCaption:!1,hideButtons:!1,noNavigation:!1,noClose:!1,noToggleSlideshow:!1,overlayOpacity:0.8,resizeDuration:400,resizeEasing:"easybox",fadeDuration:400,initCenterSize:[250,250],errorSize:[320,180],defaultContentSize:[960,
720],maximumContentSize:[1280,720],captionFadeDuration:200,slideshow:0,autoClose:0,counterText:"{x} of {y}",closeKeys:[27],previousKeys:[37],nextKeys:[39],toggleSlideshowKeys:[32],preventOtherKeys:!0},z=[],c,d,i=-1,k=-1,f=-1,h,O=[],t=!1,o=!1,A=!1,X=0,Y=0,n=!1,q,E,p=null,w=null,L,g,e,F,G,H,r,I,s,l,m,y;b(function(){b(Q.body).append(b([L=b('<div id="easyOverlay" />').click(M)[0],g=b('<div id="easyCenter" />').append([e=b('<div id="easyContainer" />')[0],y=b('<div id="easyLoadingIndicator" />')[0],s=
b('<div id="easyBottom" />').append([F=b('<div id="easyNavigation" />').append([G=b('<a id="easyPrevLink" href="#" />').click(u)[0],H=b('<a id="easyNextLink" href="#" />').click(v)[0]])[0],I=b('<a id="easyCloseLink" href="#" />').click(M)[0],r=b('<a id="easySlideLink" href="#" />').click(V)[0],l=b('<div id="easyCaption" />')[0],m=b('<div id="easyNumber" />')[0]])[0]])[0]]).css("display","none"))});b.fn.easybox=function(a,c,d,g){var c=c||function(a){var b={url:a.href,caption:a.title};if(a.hasAttribute("data-width"))b.width=
a.getAttribute("data-width");if(a.hasAttribute("data-height"))b.height=a.getAttribute("data-height");return b},d=d||function(a){return this==a},g=g||function(){return{}},e=this;return e.unbind("click").click(function(){var i=this,k=0,f,h=0,l;f=b.grep(e,function(a,b){return d.call(i,a,b)});for(l=f.length;h<l;++h)f[h]==i&&(k=h),f[h]=c(f[h],h);return b.easybox(f,k,b.extend({},a,g(i)))})};var fa=b.easybox=function(a,f,e){if(n)return!1;c=b.extend({},P,e);d=[];for(e=0;e<a.length;e++)d.push(b.extend({caption:"",
width:0,height:0},a[e],{handler:null,loaded:!1,loading:!1,error:!1,obj:null}));if(d.length)return n=!0,1>=d.length&&b.extend(c,{loop:!1,slideshow:0}),h=c.initCenterSize.slice(),C(),U(1),b(g).show(),b(L).css({opacity:c.overlayOpacity}).fadeIn(c.fadeDuration,function(){B(Math.min(d.length-1,f||0))}),!1};b.extend(fa,{previous:function(){return 0<=k?!u():!1},next:function(){return 0<=f?!v():!1},hasPrevious:function(){return 0<=k},hasNext:function(){return 0<=f},close:function(){return n?!J():!1},isOpen:function(){return n},
defaults:function(a){P=b.extend(P,a)},resourceHandler:function(a){ba(a)}});b.easing.easybox=function(a){return 0.7>a?1.2*Math.pow(a/0.7,2):1.2-0.2*Math.sqrt((a-0.7)/(1-0.7))}})(window,document,jQuery);
/*
        Easybox v1.4 - Lightweight easy to use lightbox clone for jQuery
        Based on Slimbox2 by Christophe Beyls <http://www.digitalia.be>
*/
(function(f,g,b){b(function(){b.easybox&&(b.easybox.resourceHandler({identify:function(a){return a.url?!0:!1},postLoad:function(a){a.obj=b('<iframe width="'+a.width+'" height="'+a.height+'" src="'+a.url+'" frameborder="0"></iframe>')[0]}}),b.easybox.resourceHandler({identify:function(a){return a.html?!0:!1},postLoad:function(a){a.obj=b('<div style="width:'+a.width+"px;height:"+a.height+'px">'+a.html+"</div>")[0]}}),b.easybox.resourceHandler({identify:function(a){if(!a.url)return!1;var c=/^(.*)\#([A-Za-z0-9\-_]*)$/i.exec(a.url);
return null!=c&&b("#"+c[2]).length?(a.id=c[2],!0):!1},preLoad:function(a,c){var d=b("#"+a.id)[0];d?(a.width=a.width||b(d).width(),a.height=a.height||b(d).height(),a.obj=d):a.error=!0;c()},postLoad:function(a){a.parent=b(a.obj).parent()[0];a.display=b(a.obj).css("display")},show:function(a){b(a.obj).css("display","block")},hide:function(a){b(a.parent).append(b(a.obj).css("display",a.display))}}),b.easybox.resourceHandler({identify:function(a){return!a.url?!1:/(\.jpg|\.jpeg|\.png|\.gif)$/i.test(a.url)},
preLoad:function(a,b){var d=new Image;d.onload=function(){a.width=a.width||this.width;a.height=a.height||this.height;b()};d.onerror=function(){a.error=!0;b()};d.src=a.url},postLoad:function(a){a.obj=b('<img src="'+a.url+'" style="display:block;width:'+a.width+"px;height:"+a.height+'px" alt="'+a.caption+'" />')[0]}}),b.easybox.resourceHandler({identify:function(a){return!a.url?!1:/(\.mpg|\.mpeg|\.mp4|\.ogv|\.webm|\.flv)$/i.test(a.url)},postLoad:function(a){a.obj=b('<div style="overflow:hidden;width:'+
a.width+"px;height:"+a.height+'px" />')[0]},show:function(a){var c=!!b.fn.flowplayer;b(a.obj).append(b('<video src="'+a.url+'" width="'+a.width+'" height="'+a.height+'"'+(!c?' controls="controls"':"")+" />"));c&&b(a.obj).flowplayer()}}),b.easybox.resourceHandler({identify:function(a){if(!a.url)return!1;var b=/^http\:\/\/www\.youtube\.com\/watch\?v=([A-Za-z0-9\-_]*)(&(.*))?$/i.exec(a.url);return null!=b?(a.id=b[1],!0):!1},preLoad:function(a,c){b.ajax("http://gdata.youtube.com/feeds/api/videos/"+a.id+
"?v=2&alt=jsonc",{type:"GET",dataType:"jsonp",timeout:2E3,error:function(b,e){if("abort"!=e)a.error=!0,c()},success:function(b){!b.error&&b.data&&"allowed"==b.data.accessControl.embed?(b="widescreen"==b.data.aspectRatio,a.height=a.height||720,a.width=Math.round(a.height*(b?16/9:4/3))):a.error=!0;c()}})},postLoad:function(a){a.obj=b('<iframe src="http://www.youtube.com/embed/'+a.id+'?version=3&autohide=1&autoplay=1&rel=0" width="'+a.width+'" height="'+a.height+'" frameborder="0"></iframe>')[0]}}),
b.easybox.resourceHandler({identify:function(a){if(!a.url)return!1;var b=/^http\:\/\/vimeo\.com\/([0-9]*)(.*)?$/i.exec(a.url);return null!=b?(a.id=b[1],!0):!1},preLoad:function(a,c){b.ajax("http://vimeo.com/api/v2/video/"+a.id+".json",{type:"GET",dataType:"jsonp",timeout:2E3,error:function(b,e){if("abort"!=e)a.error=!0,c()},success:function(b){if(b.length)if("anywhere"==b[0].embed_privacy||"approved"==b[0].embed_privacy){if(b[0].width&&b[0].height)a.width=b[0].width,a.height=b[0].height}else a.error=
!0;c()}})},postLoad:function(a){a.obj=b('<iframe src="http://player.vimeo.com/video/'+a.id+'?title=0&byline=0&portrait=0&autoplay=true" width="'+a.width+'" height="'+a.height+'" frameborder="0"></iframe>')[0]}}),b.easybox.resourceHandler({identify:function(a){if(!a.url)return!1;var b=/^http\:\/\/www\.dailymotion\.com\/video\/([A-Za-z0-9]*)(.*)?$/i.exec(a.url);return null!=b?(a.id=b[1],!0):!1},preLoad:function(a,c){b.ajax("https://api.dailymotion.com/video/"+a.id+"?fields=allow_embed,aspect_ratio",
{type:"GET",dataType:"jsonp",timeout:2E3,error:function(b,e){if("abort"!=e)a.error=!0,c()},success:function(b){b.allow_embed?(b=b.aspect_ratio,a.height=a.height||720,a.width=Math.round(a.height*b)):a.error=!0;c()}})},postLoad:function(a){a.obj=b('<iframe src="http://www.dailymotion.com/embed/video/'+a.id+'?autoplay=1" width="'+a.width+'" height="'+a.height+'" frameborder="0"></iframe>')[0]}}))})})(window,document,jQuery);
